<!DOCTYPE HTML SYSTEM>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>JS/CS Report</title>
    <%= stylesheet_link_tag 'qmeter/qmeter' %>
  </head>
  <body>
    <h2>JavaScript Errors</h2>
      <div float="right"><%= "Total errors : " + @js_error_count.to_s %></div>
      <% unless @js_errors.nil? %>
        <% @js_errors.each_key do |error| %>
          File Name: <%= error %>
          <div class="rTable">
            <div class="rTableRow">
              <div class="rTableHead">
                Line Number
              </div>
              <div class="rTableHead">
                Column Number
              </div>
              <div class="rTableHead">
                Message
              </div>
            </div>
            <% @js_errors[error].each_with_index do |error_details, index| %>
              <div class="rTableRow">
                <div class="rTableCell">
                  <%= error_details[:line_number] %>
                </div>
                <div class="rTableCell">
                  <%= error_details[:column_number] %>
                </div>
                <div class="rTableCell">
                  <%= error_details[:message] %>
                </div>
              </div>
            <% end %>
          </div>
          <br />
        <% end %>
      <% end %>
    <br />

    <h2>CoffeeScript Errors</h2>
      <div float="right"><%= "Total errors : " + @cs_error_count.to_s %></div>
      <% unless @cs_errors.nil? %>
        <% @cs_errors.each_key do |error| %>
          File Name: <%= error %>
          <div class="rTable">
            <div class="rTableRow">
              <div class="rTableHead">
                Line Number
              </div>
              <div class="rTableHead">
                Column Number
              </div>
              <div class="rTableHead">
                Message
              </div>
            </div>
            <% @cs_errors[error].each_with_index do |error_details, index| %>
              <div class="rTableRow">
                <div class="rTableCell">
                  <%= error_details[:line_number] %>
                </div>
                <div class="rTableCell">
                  <%= error_details[:column_number] %>
                </div>
                <div class="rTableCell">
                  <%= error_details[:message] %>
                </div>
              </div>
            <% end %>
          </div>
          <br />
        <% end %>
      <% end %>
    <br />
  <body>
</html>